version: v2
clean: true
plugins:
  - remote: buf.build/connectrpc/go:v1.17.0
    out: internal/grpc
    opt:
      - module=github.com/materials-resources/s-prophet/internal/grpc
      - Mcatalog.proto=github.com/materials-resources/s-prophet/internal/grpc/catalog
      - Morder.proto=github.com/materials-resources/s-prophet/internal/grpc/order
      - Mbilling.proto=github.com/materials-resources/s-prophet/internal/grpc/billing
      - Mcustomer.proto=github.com/materials-resources/s-prophet/internal/grpc/customer
  - remote: buf.build/protocolbuffers/go:v1.34.2
    out: internal/grpc
    opt:
      - module=github.com/materials-resources/s-prophet/internal/grpc
      - Mcatalog.proto=github.com/materials-resources/s-prophet/internal/grpc/catalog
      - Morder.proto=github.com/materials-resources/s-prophet/internal/grpc/order
      - Mbilling.proto=github.com/materials-resources/s-prophet/internal/grpc/billing
      - Mcustomer.proto=github.com/materials-resources/s-prophet/internal/grpc/customer


inputs:
  - git_repo: https://github.com/Materials-Resources/microservices-proto.git
    branch: main
    types:
      - "catalog.v1.CatalogService"
      - "order.v1.OrderService"
      - "billing.v1.BillingService"
      - "customer.v1.CustomerService"