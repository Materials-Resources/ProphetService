syntax = 'proto3';

package warehouse.v1;

option go_package = "./warehouse";

service WarehouseService{
  rpc GetAllocatedOrdersForReceiptItem(GetAllocatedOrdersForReceiptItemRequest) returns (GetAllocatedOrdersForReceiptItemResponse);
  rpc GetReceivingReport(GetReceivingReportRequest) returns (GetReceivingReportResponse);
}

message GetAllocatedOrdersForReceiptItemRequest{
  float receipt_id = 1; // Receipt id to search for
  int32 inv_mast_uid = 2; // Identifier of product
  repeated string product_primary_bins = 3; // List of primary bins to filter products by. Helpful for only returning orders for nonstock
}

message GetAllocatedOrdersForReceiptItemResponse{
  message AllocatedOrder {
    string order_id = 1;
    double qty_allocated = 2;
  }
  repeated AllocatedOrder allocated_orders = 1;
}

message GetReceivingReportRequest {
  double receipt_number = 1;
}

message GetReceivingReportResponse {
  message Item {
    double quantity = 1;
    string unit_of_measure = 2;
    int32 inv_mast_uid = 3;
  }
  double receipt_number = 1;
  repeated Item items = 2;
}