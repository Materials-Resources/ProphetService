apiVersion: v1
kind: Pod
metadata:
  name: prophet_redpanda
spec:
  containers:
    - name: 'broker'
      image: 'docker.redpanda.com/redpandadata/redpanda:v24.3.4'
      args:
        - redpanda
        - start
        - --kafka-addr internal://0.0.0.0:9092,external://0.0.0.0:19092
        - --advertise-kafka-addr internal://broker:9092,external://localhost:19092
        - --pandaproxy-addr internal://0.0.0.0:8082,external://0.0.0.0:18082
        - --advertise-pandaproxy-addr internal://broker:8082,external://localhost:18082
        - --schema-registry-addr internal://0.0.0.0:8081,external://0.0.0.0:18081
        - --rpc-addr broker:33145
        - --advertise-rpc-addr broker:33145
        - --mode dev-container
        - --smp 1
        - --default-log-level=info
      ports:
        - containerPort: 18081
          hostPort: 18081
        - containerPort: 18082
        - containerPort: 19092
          hostPort: 19092
        - containerPort: 9644
          hostPort: 9644
      volumeMounts:
        - mountPath: /var/lib/redpanda/data
          name: broker-volume
  volumes:
    - name: broker-volume
      persistentVolumeClaim:
        claimName: prophet_redpanda



